{"name":"Redmine-more view hooks","tagline":"Allows adding more view hooks into Redmine's templates","body":"[github]: https://github.com/neopoly/redmine-more_view_hooks\r\n[doc]: http://rubydoc.info/github/neopoly/redmine-more_view_hooks/master/file/README.md\r\n[gem]: https://rubygems.org/gems/redmine-more_view_hooks\r\n[gem-badge]: https://img.shields.io/gem/v/redmine-more_view_hooks.svg\r\n[inchpages]: https://inch-ci.org/github/neopoly/redmine-more_view_hooks\r\n[inchpages-badge]: https://inch-ci.org/github/neopoly/redmine-more_view_hooks.svg?branch=master&style=flat\r\n\r\n# redmine-more_view_hooks\r\n\r\n[![Gem Version][gem-badge]][gem]\r\n[![Inline docs][inchpages-badge]][inchpages]\r\n\r\n[Gem][gem] |\r\n[Source][github] |\r\n[Documentation][doc]\r\n\r\nAllows adding more view hooks into Redmine's templates\r\n\r\n## Installation\r\n\r\nEnsure you have a `Gemfile.local` file in your Redmine installation. Add to your `Gemfile.local`:\r\n\r\n```ruby\r\ngem \"redmine-more_view_hooks\"\r\n```\r\n\r\nAnd then execute:\r\n\r\n```\r\n$ bundle\r\n```\r\n\r\nRestart the Redmine application\r\n\r\n## Usage\r\n\r\nRedmine already includes a concept of \"view hooks\", but not every place one can think already\r\nas such a hook. E.g. a hook before the user login status in the top menu is missing.\r\n\r\nLet's *assume* the needed view hook would already exists at the desired position and would be called `layout_base_logged_as_before`.\r\nIn this case one can simple write a new view hook listener as [natively supported from Redmine](http://www.redmine.org/projects/redmine/wiki/Hooks):\r\n\r\n```ruby\r\nclass Hooks < Redmine::Hook::ViewListener\r\n  # Redmine run's this method whenever a <%= call_hook(:layout_base_logged_as_before) %>\r\n  # is included into the templates.\r\n  # Attention: This view hook doesn't exists in Redmine and must be realized using this gem\r\n  def layout_base_logged_as_before(context)\r\n    content_tag :span, \"Some additional content\"\r\n  ends\r\nend\r\n```\r\n\r\nTo bring this to live we need to add this new view hook into Redmine's base layout template.\r\nUsing this gem you can inject every needed view hooks into every possible template.\r\nThe needed hook can be achieved using the following statement:\r\n\r\n```ruby\r\nMoreViewHooks.add(\r\n  # first the name of the new view hook\r\n  :layout_base_logged_as_before,\r\n  # now some Deface options to determine the correct position of the hook\r\n  virtual_path:  \"layouts/base\",\r\n  insert_before: \"#top-menu erb[loud]:contains('if User.current.logged?'):contains('content_tag')\"\r\n)\r\n```\r\n\r\nFor more information about the Deface options please have a look at [their documentation](https://github.com/spree/deface#usage).\r\n\r\nThe correct place to register new view hooks would be when initializing your Redmine plugin.\r\n\r\n## Contributing\r\n\r\n1. Fork it ( https://github.com/neopoly/redmine-more_view_hooks/fork )\r\n2. Create your feature branch (`git checkout -b my-new-feature`)\r\n3. Commit your changes (`git commit -am 'Add some feature'`)\r\n4. Push to the branch (`git push origin my-new-feature`)\r\n5. Create a new Pull Request\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}